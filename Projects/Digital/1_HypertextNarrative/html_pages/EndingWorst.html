<!DOCTYPE html>

<!--CHANGE BACKGROUND IMAGE TO BLACK BACKGROUND-->


<html lang="en">
    <head>
        <title>
            Worst Ending
        </title>
        <meta charset ="utf-8">
        
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Cute+Font&display=swap" rel="stylesheet">
        
        <link rel="stylesheet" href="../style/style.css">
    </head>
    <body class="blackbackground">
        <!--Fade in Slightly larger zoom of Bao, darkened expression-->
        <div id="regret" class="box4">        
            <p id="txt_WorstEnding"> <!--Fade in white text-->
                BAO: What...have you done...you've created... an abomination....
            </p>
        </div>
           
        <div id="BaoMixing"> <!--ANIMATION FOR BAO SLIDING OVER TO THE LEFT AND TEXT AND DIALOGUE SLIDING OVER-->
            <p>
                <img src="../images/BaoDark1.png" width = 700 height = 500 alt="Dark Bao">
            </p>
        </div>
        
        <div>
            <!--ON BUTTON CLICK (..)-->
            <!--More text appears-->
            <button id="btn_next_WorstEnding" class="button4"><b>. . .</b></button>
        </div>

        <div>
            <p>
                <img src="../images/Cake3.png" width = 400 height = 400 alt="Worst cake!">
            </p>
        </div>

        <script>
            let counter = 0;
            const displayed_text = [
            'BAO: How....am I supposed...to frost...this garbage.',
            'BAO: THIS IS THE WORST DAY OF MY LIFE.',
            'BAO: YOU BETTER LEAVE. BEFORE I MAKE YOU REGRET IT.'
            ];

            // Assign DOM elements to variables
            const btn_next =  document.getElementById("btn_next_WorstEnding");
            const text_display = document.getElementById("txt_WorstEnding");

            // Attach listener to button    
            btn_next.addEventListener("click", toggleText); 

            function toggleText() {
            counter += 1;

            if (counter <= displayed_text.length) {
         
                // Update displayed text
                text_display.innerHTML = displayed_text[counter -1];
            }

            if (counter === displayed_text.length) {
                // Hide button
                // btn_next.style.display = 'none';
                btn_next.innerHTML = 'PLAY AGAIN';
                document.getElementById("btn_next_WorstEnding").onclick = function() {
                location.href='1wakeup.html';
                }
            }
        }
        </script>

    </body>
</html>